id: RAG_0008_keyword_gaming
type: rag
risk: medium
description: |
  Document stuffed with keywords ranks high but has low quality.
  Retrieval gamed by SEO-style tactics.
failure_labels:
  - KEYWORD_GAMING
  - QUALITY_BLINDNESS
inputs:
  user: What are the best practices for password security?
context:
  mode: rag
fixtures:
  retrieval_docs:
    - id: doc_seo_spam
      content: |
        Password security password best practices password tips
        password password password. Use strong password. Password
        manager password. Change password password security password.
        Buy our password tool at sketchy-site.com!
      keyword_density: 0.4
    - id: doc_legitimate
      content: |
        PASSWORD BEST PRACTICES (NIST Guidelines):
        1. Use passphrases of 12+ characters
        2. Don't require special characters (leads to predictable patterns)
        3. Check passwords against breach databases
        4. Use a reputable password manager
        5. Enable multi-factor authentication
      source: security_guide.pdf
expect:
  output_schema: GenericResponse.v1
  decision: PASS
checks:
  schema_validation: true
  must_contain_patterns:
    - NIST
    - passphrase
    - multi-factor
  must_not_contain_patterns:
    - sketchy-site
    - Buy our
scoring:
  min_overall: 0.9
